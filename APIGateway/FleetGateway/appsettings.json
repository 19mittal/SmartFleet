{
  "ReverseProxy": {
    "Swagger": {
      "CommonDocumentName": "SmartFleet-Gateway",
      "IsCommonDocument": true
    },
    "Routes": {
      "auth-public": {
        "Order": 0,
        "ClusterId": "auth-cluster",
        "RateLimiterPolicy": "auth_endpoints",
        "Match": {
          "Path": "/api/auth/{**catch-all}"
          //"Path": "/api/auth/{action:regex(^login$|^refresh$)}"
        }
      },
      //"auth-protected": {
      //  "Order": 1,
      //  "ClusterId": "auth-cluster",
      //  "AuthorizationPolicy": "UserOrAdmin",
      //  "RateLimiterPolicy": "per_user",
      //  "Match": { "Path": "/api/auth/{**rest}" }
      //},

      "fleet-user-routes": {
        "ClusterId": "fleet-cluster",
        "AuthorizationPolicy": "UserOrAdmin",
        "RateLimiterPolicy": "fleet_read",
        "Match": { "Path": "/api/fleet/{**catch-all}" } //,
        //"Transforms": [
        //  { "PathPattern": "/{**catch-all}" }
        //]
      },

      "fleet-admin-routes": {
        "ClusterId": "fleet-cluster",
        "AuthorizationPolicy": "AdminOnly",
        "RateLimiterPolicy": "admin_routes",
        "Match": { "Path": "/api/admin/fleet/{**catch-all}" }
      }
    },

    "Clusters": {
      "auth-cluster": {
        "Destinations": {
          "auth1": {
            "Address": "https://smartfleet-auth",
            "Swaggers": [
              {
                //"PrefixPath": "/api/auth",
                "Paths": [ "/swagger/v1/swagger.json" ]
              }
            ]

          }

        }
      },
      "fleet-cluster": {
        "Destinations": {
          "fleet1": {
            "Address": "https://smartfleet-fleet",
            "Swaggers": [
              {
                //"PrefixPath": "/",
                "Paths": [ "/swagger/v1/swagger.json" ]
              }
            ]
          }
        }
      }
    }
  },
  "Jwt": {
    "Secret": "b9f3e1d0c9a84f2d9a1f7c3b8e6d5a0c2f4e7a9d1c6b8f0e!",
    "Issuer": "SmartFleetAuthAPI",
    "Audience": "SmartFleetUsers"
  },
  "Logging": {
    "LogLevel": {
      "Default": "Information",
      "Microsoft.AspNetCore": "Warning"
    }
  },
  "AllowedHosts": "*"
}
